/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

package dev.plexapi.sdk;

import static org.junit.jupiter.api.Assertions.assertEquals;

import dev.plexapi.sdk.models.operations.Account;
import dev.plexapi.sdk.models.operations.GetBandwidthStatisticsAccount;
import dev.plexapi.sdk.models.operations.GetBandwidthStatisticsDevice;
import dev.plexapi.sdk.models.operations.GetBandwidthStatisticsMediaContainer;
import dev.plexapi.sdk.models.operations.GetBandwidthStatisticsResponse;
import dev.plexapi.sdk.models.operations.GetBandwidthStatisticsResponseBody;
import dev.plexapi.sdk.models.operations.GetResourcesStatisticsMediaContainer;
import dev.plexapi.sdk.models.operations.GetResourcesStatisticsResponse;
import dev.plexapi.sdk.models.operations.GetResourcesStatisticsResponseBody;
import dev.plexapi.sdk.models.operations.GetStatisticsDevice;
import dev.plexapi.sdk.models.operations.GetStatisticsMediaContainer;
import dev.plexapi.sdk.models.operations.GetStatisticsResponse;
import dev.plexapi.sdk.models.operations.GetStatisticsResponseBody;
import dev.plexapi.sdk.models.operations.StatisticsBandwidth;
import dev.plexapi.sdk.models.operations.StatisticsMedia;
import dev.plexapi.sdk.models.operations.StatisticsResources;
import java.lang.Exception;
import java.util.List;
import org.junit.jupiter.api.Disabled;
import org.junit.jupiter.api.Test;

public class StatisticsTests { 

    @Disabled // test marked as skipped for java or generated unit tests not production ready yet
    @Test
    public void testStatistics_GetStatistics_() throws Exception {


        PlexAPI sdk = PlexAPI.builder()
                .accessToken("<YOUR_API_KEY_HERE>")
                .clientID("gcgzw5rz2xovp84b4vha3a40")
                .clientName("Plex Web")
                .clientVersion("4.133.0")
                .clientPlatform("Chrome")
                .deviceName("Linux")
            .build();

        GetStatisticsResponse res = sdk.statistics().getStatistics()
                .timespan(4L)
                .call();

        assertEquals(
            GetStatisticsResponseBody.builder()
        .mediaContainer(GetStatisticsMediaContainer.builder()
            .size(5497)
            .device(List.of(
                GetStatisticsDevice.builder()
                    .id(208)
                    .name("Roku Express")
                    .platform("Roku")
                    .clientIdentifier("793095d235660625108ef785cc7646e9")
                    .createdAt(1706470556)
                    .build()))
            .account(List.of(
                Account.builder()
                    .id(238960586)
                    .key("/accounts/238960586")
                    .name("Diane")
                    .defaultAudioLanguage("en")
                    .autoSelectAudio(true)
                    .defaultSubtitleLanguage("en")
                    .subtitleMode(1)
                    .thumb("https://plex.tv/users/50d83634246da1de/avatar?c=1707110967")
                    .build()))
            .statisticsMedia(List.of(
                StatisticsMedia.builder()
                    .accountID(1)
                    .deviceID(13)
                    .timespan(4)
                    .at(1707141600)
                    .metadataType(4)
                    .count(1)
                    .duration(1555)
                    .build()))
            .build())
        .build(),
            res.object().get());
    }

    @Disabled // test marked as skipped for java or generated unit tests not production ready yet
    @Test
    public void testStatistics_GetResourcesStatistics_() throws Exception {


        PlexAPI sdk = PlexAPI.builder()
                .accessToken("<YOUR_API_KEY_HERE>")
                .clientID("gcgzw5rz2xovp84b4vha3a40")
                .clientName("Plex Web")
                .clientVersion("4.133.0")
                .clientPlatform("Chrome")
                .deviceName("Linux")
            .build();

        GetResourcesStatisticsResponse res = sdk.statistics().getResourcesStatistics()
                .timespan(4L)
                .call();

        assertEquals(
            GetResourcesStatisticsResponseBody.builder()
        .mediaContainer(GetResourcesStatisticsMediaContainer.builder()
            .size(5497)
            .statisticsResources(List.of(
                StatisticsResources.builder()
                    .timespan(6L)
                    .at(1718384427L)
                    .hostCpuUtilization(1.276f)
                    .processCpuUtilization(0.025f)
                    .hostMemoryUtilization(17.026f)
                    .processMemoryUtilization(0.493f)
                    .build()))
            .build())
        .build(),
            res.object().get());
    }

    @Disabled // test marked as skipped for java or generated unit tests not production ready yet
    @Test
    public void testStatistics_GetBandwidthStatistics_() throws Exception {


        PlexAPI sdk = PlexAPI.builder()
                .accessToken("<YOUR_API_KEY_HERE>")
                .clientID("gcgzw5rz2xovp84b4vha3a40")
                .clientName("Plex Web")
                .clientVersion("4.133.0")
                .clientPlatform("Chrome")
                .deviceName("Linux")
            .build();

        GetBandwidthStatisticsResponse res = sdk.statistics().getBandwidthStatistics()
                .timespan(4L)
                .call();

        assertEquals(
            GetBandwidthStatisticsResponseBody.builder()
        .mediaContainer(GetBandwidthStatisticsMediaContainer.builder()
            .size(5497)
            .device(List.of(
                GetBandwidthStatisticsDevice.builder()
                    .id(208)
                    .name("Roku Express")
                    .platform("Roku")
                    .clientIdentifier("793095d235660625108ef785cc7646e9")
                    .createdAt(1706470556)
                    .build()))
            .account(List.of(
                GetBandwidthStatisticsAccount.builder()
                    .id(238960586)
                    .key("/accounts/238960586")
                    .name("Diane")
                    .defaultAudioLanguage("en")
                    .autoSelectAudio(true)
                    .defaultSubtitleLanguage("en")
                    .subtitleMode(1)
                    .thumb("https://plex.tv/users/50d83634246da1de/avatar?c=1707110967")
                    .build()))
            .statisticsBandwidth(List.of(
                StatisticsBandwidth.builder()
                    .accountID(238960586)
                    .deviceID(208)
                    .timespan(6L)
                    .at(1718387650)
                    .lan(true)
                    .bytes(22L)
                    .build()))
            .build())
        .build(),
            res.object().get());
    }

}