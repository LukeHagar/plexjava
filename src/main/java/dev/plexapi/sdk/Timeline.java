/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
package dev.plexapi.sdk;

import static dev.plexapi.sdk.operations.Operations.RequestOperation;

import dev.plexapi.sdk.models.operations.MarkPlayedRequest;
import dev.plexapi.sdk.models.operations.MarkPlayedRequestBuilder;
import dev.plexapi.sdk.models.operations.MarkPlayedResponse;
import dev.plexapi.sdk.models.operations.ReportRequest;
import dev.plexapi.sdk.models.operations.ReportRequestBuilder;
import dev.plexapi.sdk.models.operations.ReportResponse;
import dev.plexapi.sdk.models.operations.UnscrobbleRequest;
import dev.plexapi.sdk.models.operations.UnscrobbleRequestBuilder;
import dev.plexapi.sdk.models.operations.UnscrobbleResponse;
import dev.plexapi.sdk.operations.MarkPlayed;
import dev.plexapi.sdk.operations.Report;
import dev.plexapi.sdk.operations.Unscrobble;
import java.lang.Exception;

/**
 * The actions feature within a media provider
 */
public class Timeline {
    private final SDKConfiguration sdkConfiguration;
    private final AsyncTimeline asyncSDK;

    Timeline(SDKConfiguration sdkConfiguration) {
        this.sdkConfiguration = sdkConfiguration;
        this.asyncSDK = new AsyncTimeline(this, sdkConfiguration);
    }

    /**
     * Switches to the async SDK.
     * 
     * @return The async SDK
     */
    public AsyncTimeline async() {
        return asyncSDK;
    }

    /**
     * Mark an item as played
     * 
     * <p>Mark an item as played.  Note, this does not create any view history of this item but rather just sets the state as played. The client must provide either the `key` or `uri` query parameter
     * This API does respond to the GET verb but applications should use PUT
     * 
     * @return The call builder
     */
    public MarkPlayedRequestBuilder markPlayed() {
        return new MarkPlayedRequestBuilder(sdkConfiguration);
    }

    /**
     * Mark an item as played
     * 
     * <p>Mark an item as played.  Note, this does not create any view history of this item but rather just sets the state as played. The client must provide either the `key` or `uri` query parameter
     * This API does respond to the GET verb but applications should use PUT
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public MarkPlayedResponse markPlayed(MarkPlayedRequest request) throws Exception {
        RequestOperation<MarkPlayedRequest, MarkPlayedResponse> operation
              = new MarkPlayed.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Report media timeline
     * 
     * <p>This endpoint is hit during media playback for an item. It must be hit whenever the play state changes, or in the absence of a play state change, in a regular fashion (generally this means every 10 seconds on a LAN/WAN, and every 20 seconds over cellular).
     * 
     * @return The call builder
     */
    public ReportRequestBuilder report() {
        return new ReportRequestBuilder(sdkConfiguration);
    }

    /**
     * Report media timeline
     * 
     * <p>This endpoint is hit during media playback for an item. It must be hit whenever the play state changes, or in the absence of a play state change, in a regular fashion (generally this means every 10 seconds on a LAN/WAN, and every 20 seconds over cellular).
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public ReportResponse report(ReportRequest request) throws Exception {
        RequestOperation<ReportRequest, ReportResponse> operation
              = new Report.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Mark an item as unplayed
     * 
     * <p>Mark an item as unplayed. The client must provide either the `key` or `uri` query parameter
     * This API does respond to the GET verb but applications should use PUT
     * 
     * @return The call builder
     */
    public UnscrobbleRequestBuilder unscrobble() {
        return new UnscrobbleRequestBuilder(sdkConfiguration);
    }

    /**
     * Mark an item as unplayed
     * 
     * <p>Mark an item as unplayed. The client must provide either the `key` or `uri` query parameter
     * This API does respond to the GET verb but applications should use PUT
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public UnscrobbleResponse unscrobble(UnscrobbleRequest request) throws Exception {
        RequestOperation<UnscrobbleRequest, UnscrobbleResponse> operation
              = new Unscrobble.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

}
