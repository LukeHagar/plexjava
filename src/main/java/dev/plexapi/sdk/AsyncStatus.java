/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
package dev.plexapi.sdk;

import static dev.plexapi.sdk.operations.Operations.AsyncRequestlessOperation;
import static dev.plexapi.sdk.operations.Operations.AsyncRequestOperation;

import dev.plexapi.sdk.models.operations.DeleteHistoryRequest;
import dev.plexapi.sdk.models.operations.GetHistoryItemRequest;
import dev.plexapi.sdk.models.operations.ListPlaybackHistoryRequest;
import dev.plexapi.sdk.models.operations.TerminateSessionRequest;
import dev.plexapi.sdk.models.operations.async.DeleteHistoryRequestBuilder;
import dev.plexapi.sdk.models.operations.async.DeleteHistoryResponse;
import dev.plexapi.sdk.models.operations.async.GetBackgroundTasksRequestBuilder;
import dev.plexapi.sdk.models.operations.async.GetBackgroundTasksResponse;
import dev.plexapi.sdk.models.operations.async.GetHistoryItemRequestBuilder;
import dev.plexapi.sdk.models.operations.async.GetHistoryItemResponse;
import dev.plexapi.sdk.models.operations.async.ListPlaybackHistoryRequestBuilder;
import dev.plexapi.sdk.models.operations.async.ListPlaybackHistoryResponse;
import dev.plexapi.sdk.models.operations.async.ListSessionsRequestBuilder;
import dev.plexapi.sdk.models.operations.async.ListSessionsResponse;
import dev.plexapi.sdk.models.operations.async.TerminateSessionRequestBuilder;
import dev.plexapi.sdk.models.operations.async.TerminateSessionResponse;
import dev.plexapi.sdk.operations.DeleteHistory;
import dev.plexapi.sdk.operations.GetBackgroundTasks;
import dev.plexapi.sdk.operations.GetHistoryItem;
import dev.plexapi.sdk.operations.ListPlaybackHistory;
import dev.plexapi.sdk.operations.ListSessions;
import dev.plexapi.sdk.operations.TerminateSession;
import java.util.concurrent.CompletableFuture;

/**
 * The status endpoints give you information about current playbacks, play history, and even terminating sessions.
 */
public class AsyncStatus {
    private final SDKConfiguration sdkConfiguration;
    private final Status syncSDK;

    AsyncStatus(Status syncSDK, SDKConfiguration sdkConfiguration) {
        this.sdkConfiguration = sdkConfiguration;
        this.syncSDK = syncSDK;
    }

    /**
     * Switches to the sync SDK.
     * 
     * @return The sync SDK
     */
    public Status sync() {
        return syncSDK;
    }


    /**
     * List Sessions
     * 
     * <p>List all current playbacks on this server
     * 
     * @return The async call builder
     */
    public ListSessionsRequestBuilder listSessions() {
        return new ListSessionsRequestBuilder(sdkConfiguration);
    }

    /**
     * List Sessions
     * 
     * <p>List all current playbacks on this server
     * 
     * @return CompletableFuture&lt;ListSessionsResponse&gt; - The async response
     */
    public CompletableFuture<ListSessionsResponse> listSessionsDirect() {
        AsyncRequestlessOperation<ListSessionsResponse> operation
            = new ListSessions.Async(sdkConfiguration);
        return operation.doRequest()
            .thenCompose(operation::handleResponse);
    }


    /**
     * Get background tasks
     * 
     * <p>Get the list of all background tasks
     * 
     * @return The async call builder
     */
    public GetBackgroundTasksRequestBuilder getBackgroundTasks() {
        return new GetBackgroundTasksRequestBuilder(sdkConfiguration);
    }

    /**
     * Get background tasks
     * 
     * <p>Get the list of all background tasks
     * 
     * @return CompletableFuture&lt;GetBackgroundTasksResponse&gt; - The async response
     */
    public CompletableFuture<GetBackgroundTasksResponse> getBackgroundTasksDirect() {
        AsyncRequestlessOperation<GetBackgroundTasksResponse> operation
            = new GetBackgroundTasks.Async(sdkConfiguration);
        return operation.doRequest()
            .thenCompose(operation::handleResponse);
    }


    /**
     * List Playback History
     * 
     * <p>List all playback history (Admin can see all users, others can only see their own).
     * Pagination should be used on this endpoint.  Additionally this endpoint supports `includeFields`, `excludeFields`, `includeElements`, and `excludeElements` parameters.
     * 
     * @return The async call builder
     */
    public ListPlaybackHistoryRequestBuilder listPlaybackHistory() {
        return new ListPlaybackHistoryRequestBuilder(sdkConfiguration);
    }

    /**
     * List Playback History
     * 
     * <p>List all playback history (Admin can see all users, others can only see their own).
     * Pagination should be used on this endpoint.  Additionally this endpoint supports `includeFields`, `excludeFields`, `includeElements`, and `excludeElements` parameters.
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;ListPlaybackHistoryResponse&gt; - The async response
     */
    public CompletableFuture<ListPlaybackHistoryResponse> listPlaybackHistory(ListPlaybackHistoryRequest request) {
        AsyncRequestOperation<ListPlaybackHistoryRequest, ListPlaybackHistoryResponse> operation
              = new ListPlaybackHistory.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Terminate a session
     * 
     * <p>Terminate a playback session kicking off the user
     * 
     * @return The async call builder
     */
    public TerminateSessionRequestBuilder terminateSession() {
        return new TerminateSessionRequestBuilder(sdkConfiguration);
    }

    /**
     * Terminate a session
     * 
     * <p>Terminate a playback session kicking off the user
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;TerminateSessionResponse&gt; - The async response
     */
    public CompletableFuture<TerminateSessionResponse> terminateSession(TerminateSessionRequest request) {
        AsyncRequestOperation<TerminateSessionRequest, TerminateSessionResponse> operation
              = new TerminateSession.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Delete Single History Item
     * 
     * <p>Delete a single history item by id
     * 
     * @return The async call builder
     */
    public DeleteHistoryRequestBuilder deleteHistory() {
        return new DeleteHistoryRequestBuilder(sdkConfiguration);
    }

    /**
     * Delete Single History Item
     * 
     * <p>Delete a single history item by id
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;DeleteHistoryResponse&gt; - The async response
     */
    public CompletableFuture<DeleteHistoryResponse> deleteHistory(DeleteHistoryRequest request) {
        AsyncRequestOperation<DeleteHistoryRequest, DeleteHistoryResponse> operation
              = new DeleteHistory.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Get Single History Item
     * 
     * <p>Get a single history item by id
     * 
     * @return The async call builder
     */
    public GetHistoryItemRequestBuilder getHistoryItem() {
        return new GetHistoryItemRequestBuilder(sdkConfiguration);
    }

    /**
     * Get Single History Item
     * 
     * <p>Get a single history item by id
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;GetHistoryItemResponse&gt; - The async response
     */
    public CompletableFuture<GetHistoryItemResponse> getHistoryItem(GetHistoryItemRequest request) {
        AsyncRequestOperation<GetHistoryItemRequest, GetHistoryItemResponse> operation
              = new GetHistoryItem.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }

}
