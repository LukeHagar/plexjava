/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
package dev.plexapi.sdk;

import static dev.plexapi.sdk.operations.Operations.AsyncRequestOperation;

import dev.plexapi.sdk.models.operations.GetBannerImageRequest;
import dev.plexapi.sdk.models.operations.GetThumbImageRequest;
import dev.plexapi.sdk.models.operations.MarkPlayedRequest;
import dev.plexapi.sdk.models.operations.MarkUnplayedRequest;
import dev.plexapi.sdk.models.operations.UpdatePlayProgressRequest;
import dev.plexapi.sdk.models.operations.async.GetBannerImageRequestBuilder;
import dev.plexapi.sdk.models.operations.async.GetBannerImageResponse;
import dev.plexapi.sdk.models.operations.async.GetThumbImageRequestBuilder;
import dev.plexapi.sdk.models.operations.async.GetThumbImageResponse;
import dev.plexapi.sdk.models.operations.async.MarkPlayedRequestBuilder;
import dev.plexapi.sdk.models.operations.async.MarkPlayedResponse;
import dev.plexapi.sdk.models.operations.async.MarkUnplayedRequestBuilder;
import dev.plexapi.sdk.models.operations.async.MarkUnplayedResponse;
import dev.plexapi.sdk.models.operations.async.UpdatePlayProgressRequestBuilder;
import dev.plexapi.sdk.models.operations.async.UpdatePlayProgressResponse;
import dev.plexapi.sdk.operations.GetBannerImage;
import dev.plexapi.sdk.operations.GetThumbImage;
import dev.plexapi.sdk.operations.MarkPlayed;
import dev.plexapi.sdk.operations.MarkUnplayed;
import dev.plexapi.sdk.operations.UpdatePlayProgress;
import java.lang.String;
import java.util.concurrent.CompletableFuture;

/**
 * API Calls interacting with Plex Media Server Media
 */
public class AsyncMedia {
    private final SDKConfiguration sdkConfiguration;
    private final Media syncSDK;

    AsyncMedia(Media syncSDK, SDKConfiguration sdkConfiguration) {
        this.sdkConfiguration = sdkConfiguration;
        this.syncSDK = syncSDK;
    }

    /**
     * Switches to the sync SDK.
     * 
     * @return The sync SDK
     */
    public Media sync() {
        return syncSDK;
    }


    /**
     * Mark Media Played
     * 
     * <p>This will mark the provided media key as Played.
     * 
     * @return The async call builder
     */
    public MarkPlayedRequestBuilder markPlayed() {
        return new MarkPlayedRequestBuilder(sdkConfiguration);
    }

    /**
     * Mark Media Played
     * 
     * <p>This will mark the provided media key as Played.
     * 
     * @param key The media key to mark as played
     * @return CompletableFuture&lt;MarkPlayedResponse&gt; - The async response
     */
    public CompletableFuture<MarkPlayedResponse> markPlayed(double key) {
        MarkPlayedRequest request =
            MarkPlayedRequest
                .builder()
                .key(key)
                .build();
        AsyncRequestOperation<MarkPlayedRequest, MarkPlayedResponse> operation
              = new MarkPlayed.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Mark Media Unplayed
     * 
     * <p>This will mark the provided media key as Unplayed.
     * 
     * @return The async call builder
     */
    public MarkUnplayedRequestBuilder markUnplayed() {
        return new MarkUnplayedRequestBuilder(sdkConfiguration);
    }

    /**
     * Mark Media Unplayed
     * 
     * <p>This will mark the provided media key as Unplayed.
     * 
     * @param key The media key to mark as Unplayed
     * @return CompletableFuture&lt;MarkUnplayedResponse&gt; - The async response
     */
    public CompletableFuture<MarkUnplayedResponse> markUnplayed(double key) {
        MarkUnplayedRequest request =
            MarkUnplayedRequest
                .builder()
                .key(key)
                .build();
        AsyncRequestOperation<MarkUnplayedRequest, MarkUnplayedResponse> operation
              = new MarkUnplayed.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Update Media Play Progress
     * 
     * <p>This API command can be used to update the play progress of a media item.
     * 
     * @return The async call builder
     */
    public UpdatePlayProgressRequestBuilder updatePlayProgress() {
        return new UpdatePlayProgressRequestBuilder(sdkConfiguration);
    }

    /**
     * Update Media Play Progress
     * 
     * <p>This API command can be used to update the play progress of a media item.
     * 
     * @param key the media key
     * @param time The time, in milliseconds, used to set the media playback progress.
     * @param state The playback state of the media item.
     * @return CompletableFuture&lt;UpdatePlayProgressResponse&gt; - The async response
     */
    public CompletableFuture<UpdatePlayProgressResponse> updatePlayProgress(
            String key, double time,
            String state) {
        UpdatePlayProgressRequest request =
            UpdatePlayProgressRequest
                .builder()
                .key(key)
                .time(time)
                .state(state)
                .build();
        AsyncRequestOperation<UpdatePlayProgressRequest, UpdatePlayProgressResponse> operation
              = new UpdatePlayProgress.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Get Banner Image
     * 
     * <p>Gets the banner image of the media item
     * 
     * @return The async call builder
     */
    public GetBannerImageRequestBuilder getBannerImage() {
        return new GetBannerImageRequestBuilder(sdkConfiguration);
    }

    /**
     * Get Banner Image
     * 
     * <p>Gets the banner image of the media item
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;GetBannerImageResponse&gt; - The async response
     */
    public CompletableFuture<GetBannerImageResponse> getBannerImage(GetBannerImageRequest request) {
        AsyncRequestOperation<GetBannerImageRequest, GetBannerImageResponse> operation
              = new GetBannerImage.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Get Thumb Image
     * 
     * <p>Gets the thumbnail image of the media item
     * 
     * @return The async call builder
     */
    public GetThumbImageRequestBuilder getThumbImage() {
        return new GetThumbImageRequestBuilder(sdkConfiguration);
    }

    /**
     * Get Thumb Image
     * 
     * <p>Gets the thumbnail image of the media item
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;GetThumbImageResponse&gt; - The async response
     */
    public CompletableFuture<GetThumbImageResponse> getThumbImage(GetThumbImageRequest request) {
        AsyncRequestOperation<GetThumbImageRequest, GetThumbImageResponse> operation
              = new GetThumbImage.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }

}
