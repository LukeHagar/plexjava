/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
package dev.plexapi.sdk;

import static dev.plexapi.sdk.operations.Operations.RequestOperation;
import static dev.plexapi.sdk.operations.Operations.RequestlessOperation;

import dev.plexapi.sdk.models.operations.CancelGrabRequest;
import dev.plexapi.sdk.models.operations.CancelGrabRequestBuilder;
import dev.plexapi.sdk.models.operations.CancelGrabResponse;
import dev.plexapi.sdk.models.operations.CreateSubscriptionRequest;
import dev.plexapi.sdk.models.operations.CreateSubscriptionRequestBuilder;
import dev.plexapi.sdk.models.operations.CreateSubscriptionResponse;
import dev.plexapi.sdk.models.operations.DeleteSubscriptionRequest;
import dev.plexapi.sdk.models.operations.DeleteSubscriptionRequestBuilder;
import dev.plexapi.sdk.models.operations.DeleteSubscriptionResponse;
import dev.plexapi.sdk.models.operations.EditSubscriptionPreferencesRequest;
import dev.plexapi.sdk.models.operations.EditSubscriptionPreferencesRequestBuilder;
import dev.plexapi.sdk.models.operations.EditSubscriptionPreferencesResponse;
import dev.plexapi.sdk.models.operations.GetAllSubscriptionsRequest;
import dev.plexapi.sdk.models.operations.GetAllSubscriptionsRequestBuilder;
import dev.plexapi.sdk.models.operations.GetAllSubscriptionsResponse;
import dev.plexapi.sdk.models.operations.GetScheduledRecordingsRequestBuilder;
import dev.plexapi.sdk.models.operations.GetScheduledRecordingsResponse;
import dev.plexapi.sdk.models.operations.GetSubscriptionRequest;
import dev.plexapi.sdk.models.operations.GetSubscriptionRequestBuilder;
import dev.plexapi.sdk.models.operations.GetSubscriptionResponse;
import dev.plexapi.sdk.models.operations.GetTemplateRequest;
import dev.plexapi.sdk.models.operations.GetTemplateRequestBuilder;
import dev.plexapi.sdk.models.operations.GetTemplateResponse;
import dev.plexapi.sdk.models.operations.ProcessSubscriptionsRequestBuilder;
import dev.plexapi.sdk.models.operations.ProcessSubscriptionsResponse;
import dev.plexapi.sdk.models.operations.ReorderSubscriptionRequest;
import dev.plexapi.sdk.models.operations.ReorderSubscriptionRequestBuilder;
import dev.plexapi.sdk.models.operations.ReorderSubscriptionResponse;
import dev.plexapi.sdk.operations.CancelGrab;
import dev.plexapi.sdk.operations.CreateSubscription;
import dev.plexapi.sdk.operations.DeleteSubscription;
import dev.plexapi.sdk.operations.EditSubscriptionPreferences;
import dev.plexapi.sdk.operations.GetAllSubscriptions;
import dev.plexapi.sdk.operations.GetScheduledRecordings;
import dev.plexapi.sdk.operations.GetSubscription;
import dev.plexapi.sdk.operations.GetTemplate;
import dev.plexapi.sdk.operations.ProcessSubscriptions;
import dev.plexapi.sdk.operations.ReorderSubscription;
import java.lang.Exception;

/**
 * Subscriptions determine which media will be recorded and the criteria for selecting an airing when multiple are available
 */
public class Subscriptions {
    private final SDKConfiguration sdkConfiguration;
    private final AsyncSubscriptions asyncSDK;

    Subscriptions(SDKConfiguration sdkConfiguration) {
        this.sdkConfiguration = sdkConfiguration;
        this.asyncSDK = new AsyncSubscriptions(this, sdkConfiguration);
    }

    /**
     * Switches to the async SDK.
     * 
     * @return The async SDK
     */
    public AsyncSubscriptions async() {
        return asyncSDK;
    }

    /**
     * Get all subscriptions
     * 
     * <p>Get all subscriptions and potentially the grabs too
     * 
     * @return The call builder
     */
    public GetAllSubscriptionsRequestBuilder getAllSubscriptions() {
        return new GetAllSubscriptionsRequestBuilder(sdkConfiguration);
    }

    /**
     * Get all subscriptions
     * 
     * <p>Get all subscriptions and potentially the grabs too
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public GetAllSubscriptionsResponse getAllSubscriptions(GetAllSubscriptionsRequest request) throws Exception {
        RequestOperation<GetAllSubscriptionsRequest, GetAllSubscriptionsResponse> operation
              = new GetAllSubscriptions.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Create a subscription
     * 
     * <p>Create a subscription. The query parameters should be mostly derived from the [template](#tag/Subscriptions/operation/mediaSubscriptionsGetTemplate)
     * 
     * @return The call builder
     */
    public CreateSubscriptionRequestBuilder createSubscription() {
        return new CreateSubscriptionRequestBuilder(sdkConfiguration);
    }

    /**
     * Create a subscription
     * 
     * <p>Create a subscription. The query parameters should be mostly derived from the [template](#tag/Subscriptions/operation/mediaSubscriptionsGetTemplate)
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public CreateSubscriptionResponse createSubscription(CreateSubscriptionRequest request) throws Exception {
        RequestOperation<CreateSubscriptionRequest, CreateSubscriptionResponse> operation
              = new CreateSubscription.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Process all subscriptions
     * 
     * <p>Process all subscriptions asynchronously
     * 
     * @return The call builder
     */
    public ProcessSubscriptionsRequestBuilder processSubscriptions() {
        return new ProcessSubscriptionsRequestBuilder(sdkConfiguration);
    }

    /**
     * Process all subscriptions
     * 
     * <p>Process all subscriptions asynchronously
     * 
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public ProcessSubscriptionsResponse processSubscriptionsDirect() throws Exception {
        RequestlessOperation<ProcessSubscriptionsResponse> operation
            = new ProcessSubscriptions.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest());
    }

    /**
     * Get all scheduled recordings
     * 
     * <p>Get all scheduled recordings across all subscriptions
     * 
     * @return The call builder
     */
    public GetScheduledRecordingsRequestBuilder getScheduledRecordings() {
        return new GetScheduledRecordingsRequestBuilder(sdkConfiguration);
    }

    /**
     * Get all scheduled recordings
     * 
     * <p>Get all scheduled recordings across all subscriptions
     * 
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public GetScheduledRecordingsResponse getScheduledRecordingsDirect() throws Exception {
        RequestlessOperation<GetScheduledRecordingsResponse> operation
            = new GetScheduledRecordings.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest());
    }

    /**
     * Get the subscription template
     * 
     * <p>Get the templates for a piece of media which could include fetching one airing, season, the whole show, etc.
     * 
     * @return The call builder
     */
    public GetTemplateRequestBuilder getTemplate() {
        return new GetTemplateRequestBuilder(sdkConfiguration);
    }

    /**
     * Get the subscription template
     * 
     * <p>Get the templates for a piece of media which could include fetching one airing, season, the whole show, etc.
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public GetTemplateResponse getTemplate(GetTemplateRequest request) throws Exception {
        RequestOperation<GetTemplateRequest, GetTemplateResponse> operation
              = new GetTemplate.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Cancel an existing grab
     * 
     * <p>Cancels an existing media grab (recording). It can be used to resolve a conflict which exists for a rolling subscription.
     * Note: This cancellation does not persist across a server restart, but neither does a rolling subscription itself.
     * 
     * @return The call builder
     */
    public CancelGrabRequestBuilder cancelGrab() {
        return new CancelGrabRequestBuilder(sdkConfiguration);
    }

    /**
     * Cancel an existing grab
     * 
     * <p>Cancels an existing media grab (recording). It can be used to resolve a conflict which exists for a rolling subscription.
     * Note: This cancellation does not persist across a server restart, but neither does a rolling subscription itself.
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public CancelGrabResponse cancelGrab(CancelGrabRequest request) throws Exception {
        RequestOperation<CancelGrabRequest, CancelGrabResponse> operation
              = new CancelGrab.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Delete a subscription
     * 
     * <p>Delete a subscription, cancelling all of its grabs as well
     * 
     * @return The call builder
     */
    public DeleteSubscriptionRequestBuilder deleteSubscription() {
        return new DeleteSubscriptionRequestBuilder(sdkConfiguration);
    }

    /**
     * Delete a subscription
     * 
     * <p>Delete a subscription, cancelling all of its grabs as well
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public DeleteSubscriptionResponse deleteSubscription(DeleteSubscriptionRequest request) throws Exception {
        RequestOperation<DeleteSubscriptionRequest, DeleteSubscriptionResponse> operation
              = new DeleteSubscription.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Get a single subscription
     * 
     * <p>Get a single subscription and potentially the grabs too
     * 
     * @return The call builder
     */
    public GetSubscriptionRequestBuilder getSubscription() {
        return new GetSubscriptionRequestBuilder(sdkConfiguration);
    }

    /**
     * Get a single subscription
     * 
     * <p>Get a single subscription and potentially the grabs too
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public GetSubscriptionResponse getSubscription(GetSubscriptionRequest request) throws Exception {
        RequestOperation<GetSubscriptionRequest, GetSubscriptionResponse> operation
              = new GetSubscription.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Edit a subscription
     * 
     * <p>Edit a subscription's preferences
     * 
     * @return The call builder
     */
    public EditSubscriptionPreferencesRequestBuilder editSubscriptionPreferences() {
        return new EditSubscriptionPreferencesRequestBuilder(sdkConfiguration);
    }

    /**
     * Edit a subscription
     * 
     * <p>Edit a subscription's preferences
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public EditSubscriptionPreferencesResponse editSubscriptionPreferences(EditSubscriptionPreferencesRequest request) throws Exception {
        RequestOperation<EditSubscriptionPreferencesRequest, EditSubscriptionPreferencesResponse> operation
              = new EditSubscriptionPreferences.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Re-order a subscription
     * 
     * <p>Re-order a subscription to change its priority
     * 
     * @return The call builder
     */
    public ReorderSubscriptionRequestBuilder reorderSubscription() {
        return new ReorderSubscriptionRequestBuilder(sdkConfiguration);
    }

    /**
     * Re-order a subscription
     * 
     * <p>Re-order a subscription to change its priority
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public ReorderSubscriptionResponse reorderSubscription(ReorderSubscriptionRequest request) throws Exception {
        RequestOperation<ReorderSubscriptionRequest, ReorderSubscriptionResponse> operation
              = new ReorderSubscription.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

}
