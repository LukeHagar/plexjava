/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
package dev.plexapi.sdk;

import static dev.plexapi.sdk.operations.Operations.AsyncRequestOperation;
import static dev.plexapi.sdk.operations.Operations.AsyncRequestlessOperation;

import dev.plexapi.sdk.models.operations.CancelGrabRequest;
import dev.plexapi.sdk.models.operations.CreateSubscriptionRequest;
import dev.plexapi.sdk.models.operations.DeleteSubscriptionRequest;
import dev.plexapi.sdk.models.operations.EditSubscriptionPreferencesRequest;
import dev.plexapi.sdk.models.operations.GetAllSubscriptionsRequest;
import dev.plexapi.sdk.models.operations.GetSubscriptionRequest;
import dev.plexapi.sdk.models.operations.GetTemplateRequest;
import dev.plexapi.sdk.models.operations.ReorderSubscriptionRequest;
import dev.plexapi.sdk.models.operations.async.CancelGrabRequestBuilder;
import dev.plexapi.sdk.models.operations.async.CancelGrabResponse;
import dev.plexapi.sdk.models.operations.async.CreateSubscriptionRequestBuilder;
import dev.plexapi.sdk.models.operations.async.CreateSubscriptionResponse;
import dev.plexapi.sdk.models.operations.async.DeleteSubscriptionRequestBuilder;
import dev.plexapi.sdk.models.operations.async.DeleteSubscriptionResponse;
import dev.plexapi.sdk.models.operations.async.EditSubscriptionPreferencesRequestBuilder;
import dev.plexapi.sdk.models.operations.async.EditSubscriptionPreferencesResponse;
import dev.plexapi.sdk.models.operations.async.GetAllSubscriptionsRequestBuilder;
import dev.plexapi.sdk.models.operations.async.GetAllSubscriptionsResponse;
import dev.plexapi.sdk.models.operations.async.GetScheduledRecordingsRequestBuilder;
import dev.plexapi.sdk.models.operations.async.GetScheduledRecordingsResponse;
import dev.plexapi.sdk.models.operations.async.GetSubscriptionRequestBuilder;
import dev.plexapi.sdk.models.operations.async.GetSubscriptionResponse;
import dev.plexapi.sdk.models.operations.async.GetTemplateRequestBuilder;
import dev.plexapi.sdk.models.operations.async.GetTemplateResponse;
import dev.plexapi.sdk.models.operations.async.ProcessSubscriptionsRequestBuilder;
import dev.plexapi.sdk.models.operations.async.ProcessSubscriptionsResponse;
import dev.plexapi.sdk.models.operations.async.ReorderSubscriptionRequestBuilder;
import dev.plexapi.sdk.models.operations.async.ReorderSubscriptionResponse;
import dev.plexapi.sdk.operations.CancelGrab;
import dev.plexapi.sdk.operations.CreateSubscription;
import dev.plexapi.sdk.operations.DeleteSubscription;
import dev.plexapi.sdk.operations.EditSubscriptionPreferences;
import dev.plexapi.sdk.operations.GetAllSubscriptions;
import dev.plexapi.sdk.operations.GetScheduledRecordings;
import dev.plexapi.sdk.operations.GetSubscription;
import dev.plexapi.sdk.operations.GetTemplate;
import dev.plexapi.sdk.operations.ProcessSubscriptions;
import dev.plexapi.sdk.operations.ReorderSubscription;
import java.util.concurrent.CompletableFuture;

/**
 * Subscriptions determine which media will be recorded and the criteria for selecting an airing when multiple are available
 */
public class AsyncSubscriptions {
    private final SDKConfiguration sdkConfiguration;
    private final Subscriptions syncSDK;

    AsyncSubscriptions(Subscriptions syncSDK, SDKConfiguration sdkConfiguration) {
        this.sdkConfiguration = sdkConfiguration;
        this.syncSDK = syncSDK;
    }

    /**
     * Switches to the sync SDK.
     * 
     * @return The sync SDK
     */
    public Subscriptions sync() {
        return syncSDK;
    }


    /**
     * Get all subscriptions
     * 
     * <p>Get all subscriptions and potentially the grabs too
     * 
     * @return The async call builder
     */
    public GetAllSubscriptionsRequestBuilder getAllSubscriptions() {
        return new GetAllSubscriptionsRequestBuilder(sdkConfiguration);
    }

    /**
     * Get all subscriptions
     * 
     * <p>Get all subscriptions and potentially the grabs too
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;GetAllSubscriptionsResponse&gt; - The async response
     */
    public CompletableFuture<GetAllSubscriptionsResponse> getAllSubscriptions(GetAllSubscriptionsRequest request) {
        AsyncRequestOperation<GetAllSubscriptionsRequest, GetAllSubscriptionsResponse> operation
              = new GetAllSubscriptions.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Create a subscription
     * 
     * <p>Create a subscription. The query parameters should be mostly derived from the [template](#tag/Subscriptions/operation/mediaSubscriptionsGetTemplate)
     * 
     * @return The async call builder
     */
    public CreateSubscriptionRequestBuilder createSubscription() {
        return new CreateSubscriptionRequestBuilder(sdkConfiguration);
    }

    /**
     * Create a subscription
     * 
     * <p>Create a subscription. The query parameters should be mostly derived from the [template](#tag/Subscriptions/operation/mediaSubscriptionsGetTemplate)
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;CreateSubscriptionResponse&gt; - The async response
     */
    public CompletableFuture<CreateSubscriptionResponse> createSubscription(CreateSubscriptionRequest request) {
        AsyncRequestOperation<CreateSubscriptionRequest, CreateSubscriptionResponse> operation
              = new CreateSubscription.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Process all subscriptions
     * 
     * <p>Process all subscriptions asynchronously
     * 
     * @return The async call builder
     */
    public ProcessSubscriptionsRequestBuilder processSubscriptions() {
        return new ProcessSubscriptionsRequestBuilder(sdkConfiguration);
    }

    /**
     * Process all subscriptions
     * 
     * <p>Process all subscriptions asynchronously
     * 
     * @return CompletableFuture&lt;ProcessSubscriptionsResponse&gt; - The async response
     */
    public CompletableFuture<ProcessSubscriptionsResponse> processSubscriptionsDirect() {
        AsyncRequestlessOperation<ProcessSubscriptionsResponse> operation
            = new ProcessSubscriptions.Async(sdkConfiguration);
        return operation.doRequest()
            .thenCompose(operation::handleResponse);
    }


    /**
     * Get all scheduled recordings
     * 
     * <p>Get all scheduled recordings across all subscriptions
     * 
     * @return The async call builder
     */
    public GetScheduledRecordingsRequestBuilder getScheduledRecordings() {
        return new GetScheduledRecordingsRequestBuilder(sdkConfiguration);
    }

    /**
     * Get all scheduled recordings
     * 
     * <p>Get all scheduled recordings across all subscriptions
     * 
     * @return CompletableFuture&lt;GetScheduledRecordingsResponse&gt; - The async response
     */
    public CompletableFuture<GetScheduledRecordingsResponse> getScheduledRecordingsDirect() {
        AsyncRequestlessOperation<GetScheduledRecordingsResponse> operation
            = new GetScheduledRecordings.Async(sdkConfiguration);
        return operation.doRequest()
            .thenCompose(operation::handleResponse);
    }


    /**
     * Get the subscription template
     * 
     * <p>Get the templates for a piece of media which could include fetching one airing, season, the whole show, etc.
     * 
     * @return The async call builder
     */
    public GetTemplateRequestBuilder getTemplate() {
        return new GetTemplateRequestBuilder(sdkConfiguration);
    }

    /**
     * Get the subscription template
     * 
     * <p>Get the templates for a piece of media which could include fetching one airing, season, the whole show, etc.
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;GetTemplateResponse&gt; - The async response
     */
    public CompletableFuture<GetTemplateResponse> getTemplate(GetTemplateRequest request) {
        AsyncRequestOperation<GetTemplateRequest, GetTemplateResponse> operation
              = new GetTemplate.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Cancel an existing grab
     * 
     * <p>Cancels an existing media grab (recording). It can be used to resolve a conflict which exists for a rolling subscription.
     * Note: This cancellation does not persist across a server restart, but neither does a rolling subscription itself.
     * 
     * @return The async call builder
     */
    public CancelGrabRequestBuilder cancelGrab() {
        return new CancelGrabRequestBuilder(sdkConfiguration);
    }

    /**
     * Cancel an existing grab
     * 
     * <p>Cancels an existing media grab (recording). It can be used to resolve a conflict which exists for a rolling subscription.
     * Note: This cancellation does not persist across a server restart, but neither does a rolling subscription itself.
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;CancelGrabResponse&gt; - The async response
     */
    public CompletableFuture<CancelGrabResponse> cancelGrab(CancelGrabRequest request) {
        AsyncRequestOperation<CancelGrabRequest, CancelGrabResponse> operation
              = new CancelGrab.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Delete a subscription
     * 
     * <p>Delete a subscription, cancelling all of its grabs as well
     * 
     * @return The async call builder
     */
    public DeleteSubscriptionRequestBuilder deleteSubscription() {
        return new DeleteSubscriptionRequestBuilder(sdkConfiguration);
    }

    /**
     * Delete a subscription
     * 
     * <p>Delete a subscription, cancelling all of its grabs as well
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;DeleteSubscriptionResponse&gt; - The async response
     */
    public CompletableFuture<DeleteSubscriptionResponse> deleteSubscription(DeleteSubscriptionRequest request) {
        AsyncRequestOperation<DeleteSubscriptionRequest, DeleteSubscriptionResponse> operation
              = new DeleteSubscription.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Get a single subscription
     * 
     * <p>Get a single subscription and potentially the grabs too
     * 
     * @return The async call builder
     */
    public GetSubscriptionRequestBuilder getSubscription() {
        return new GetSubscriptionRequestBuilder(sdkConfiguration);
    }

    /**
     * Get a single subscription
     * 
     * <p>Get a single subscription and potentially the grabs too
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;GetSubscriptionResponse&gt; - The async response
     */
    public CompletableFuture<GetSubscriptionResponse> getSubscription(GetSubscriptionRequest request) {
        AsyncRequestOperation<GetSubscriptionRequest, GetSubscriptionResponse> operation
              = new GetSubscription.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Edit a subscription
     * 
     * <p>Edit a subscription's preferences
     * 
     * @return The async call builder
     */
    public EditSubscriptionPreferencesRequestBuilder editSubscriptionPreferences() {
        return new EditSubscriptionPreferencesRequestBuilder(sdkConfiguration);
    }

    /**
     * Edit a subscription
     * 
     * <p>Edit a subscription's preferences
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;EditSubscriptionPreferencesResponse&gt; - The async response
     */
    public CompletableFuture<EditSubscriptionPreferencesResponse> editSubscriptionPreferences(EditSubscriptionPreferencesRequest request) {
        AsyncRequestOperation<EditSubscriptionPreferencesRequest, EditSubscriptionPreferencesResponse> operation
              = new EditSubscriptionPreferences.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }


    /**
     * Re-order a subscription
     * 
     * <p>Re-order a subscription to change its priority
     * 
     * @return The async call builder
     */
    public ReorderSubscriptionRequestBuilder reorderSubscription() {
        return new ReorderSubscriptionRequestBuilder(sdkConfiguration);
    }

    /**
     * Re-order a subscription
     * 
     * <p>Re-order a subscription to change its priority
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return CompletableFuture&lt;ReorderSubscriptionResponse&gt; - The async response
     */
    public CompletableFuture<ReorderSubscriptionResponse> reorderSubscription(ReorderSubscriptionRequest request) {
        AsyncRequestOperation<ReorderSubscriptionRequest, ReorderSubscriptionResponse> operation
              = new ReorderSubscription.Async(sdkConfiguration);
        return operation.doRequest(request)
            .thenCompose(operation::handleResponse);
    }

}
