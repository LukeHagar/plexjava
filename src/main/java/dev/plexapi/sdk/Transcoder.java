/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
package dev.plexapi.sdk;

import static dev.plexapi.sdk.operations.Operations.RequestOperation;

import dev.plexapi.sdk.models.operations.MakeDecisionRequest;
import dev.plexapi.sdk.models.operations.MakeDecisionRequestBuilder;
import dev.plexapi.sdk.models.operations.MakeDecisionResponse;
import dev.plexapi.sdk.models.operations.StartTranscodeSessionRequest;
import dev.plexapi.sdk.models.operations.StartTranscodeSessionRequestBuilder;
import dev.plexapi.sdk.models.operations.StartTranscodeSessionResponse;
import dev.plexapi.sdk.models.operations.TranscodeImageRequest;
import dev.plexapi.sdk.models.operations.TranscodeImageRequestBuilder;
import dev.plexapi.sdk.models.operations.TranscodeImageResponse;
import dev.plexapi.sdk.models.operations.TranscodeSubtitlesRequest;
import dev.plexapi.sdk.models.operations.TranscodeSubtitlesRequestBuilder;
import dev.plexapi.sdk.models.operations.TranscodeSubtitlesResponse;
import dev.plexapi.sdk.models.operations.TriggerFallbackRequest;
import dev.plexapi.sdk.models.operations.TriggerFallbackRequestBuilder;
import dev.plexapi.sdk.models.operations.TriggerFallbackResponse;
import dev.plexapi.sdk.operations.MakeDecision;
import dev.plexapi.sdk.operations.StartTranscodeSession;
import dev.plexapi.sdk.operations.TranscodeImage;
import dev.plexapi.sdk.operations.TranscodeSubtitles;
import dev.plexapi.sdk.operations.TriggerFallback;
import java.lang.Exception;

/**
 * API Operations against the Transcoder
 */
public class Transcoder {
    private final SDKConfiguration sdkConfiguration;
    private final AsyncTranscoder asyncSDK;

    Transcoder(SDKConfiguration sdkConfiguration) {
        this.sdkConfiguration = sdkConfiguration;
        this.asyncSDK = new AsyncTranscoder(this, sdkConfiguration);
    }

    /**
     * Switches to the async SDK.
     * 
     * @return The async SDK
     */
    public AsyncTranscoder async() {
        return asyncSDK;
    }

    /**
     * Transcode an image
     * 
     * <p>Transcode an image, possibly changing format or size
     * 
     * @return The call builder
     */
    public TranscodeImageRequestBuilder transcodeImage() {
        return new TranscodeImageRequestBuilder(sdkConfiguration);
    }

    /**
     * Transcode an image
     * 
     * <p>Transcode an image, possibly changing format or size
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public TranscodeImageResponse transcodeImage(TranscodeImageRequest request) throws Exception {
        RequestOperation<TranscodeImageRequest, TranscodeImageResponse> operation
              = new TranscodeImage.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Make a decision on media playback
     * 
     * <p>Make a decision on media playback based on client profile, and requested settings such as bandwidth and resolution.
     * 
     * @return The call builder
     */
    public MakeDecisionRequestBuilder makeDecision() {
        return new MakeDecisionRequestBuilder(sdkConfiguration);
    }

    /**
     * Make a decision on media playback
     * 
     * <p>Make a decision on media playback based on client profile, and requested settings such as bandwidth and resolution.
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public MakeDecisionResponse makeDecision(MakeDecisionRequest request) throws Exception {
        RequestOperation<MakeDecisionRequest, MakeDecisionResponse> operation
              = new MakeDecision.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Manually trigger a transcoder fallback
     * 
     * <p>Manually trigger a transcoder fallback ex: HEVC to h.264 or hw to sw
     * 
     * @return The call builder
     */
    public TriggerFallbackRequestBuilder triggerFallback() {
        return new TriggerFallbackRequestBuilder(sdkConfiguration);
    }

    /**
     * Manually trigger a transcoder fallback
     * 
     * <p>Manually trigger a transcoder fallback ex: HEVC to h.264 or hw to sw
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public TriggerFallbackResponse triggerFallback(TriggerFallbackRequest request) throws Exception {
        RequestOperation<TriggerFallbackRequest, TriggerFallbackResponse> operation
              = new TriggerFallback.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Transcode subtitles
     * 
     * <p>Only transcode subtitle streams.
     * 
     * @return The call builder
     */
    public TranscodeSubtitlesRequestBuilder transcodeSubtitles() {
        return new TranscodeSubtitlesRequestBuilder(sdkConfiguration);
    }

    /**
     * Transcode subtitles
     * 
     * <p>Only transcode subtitle streams.
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public TranscodeSubtitlesResponse transcodeSubtitles(TranscodeSubtitlesRequest request) throws Exception {
        RequestOperation<TranscodeSubtitlesRequest, TranscodeSubtitlesResponse> operation
              = new TranscodeSubtitles.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Start A Transcoding Session
     * 
     * <p>Starts the transcoder and returns the corresponding streaming resource document.
     * 
     * @return The call builder
     */
    public StartTranscodeSessionRequestBuilder startTranscodeSession() {
        return new StartTranscodeSessionRequestBuilder(sdkConfiguration);
    }

    /**
     * Start A Transcoding Session
     * 
     * <p>Starts the transcoder and returns the corresponding streaming resource document.
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public StartTranscodeSessionResponse startTranscodeSession(StartTranscodeSessionRequest request) throws Exception {
        RequestOperation<StartTranscodeSessionRequest, StartTranscodeSessionResponse> operation
              = new StartTranscodeSession.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

}
