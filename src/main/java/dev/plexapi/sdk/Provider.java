/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
package dev.plexapi.sdk;

import static dev.plexapi.sdk.operations.Operations.RequestlessOperation;
import static dev.plexapi.sdk.operations.Operations.RequestOperation;

import dev.plexapi.sdk.models.operations.AddProviderRequest;
import dev.plexapi.sdk.models.operations.AddProviderRequestBuilder;
import dev.plexapi.sdk.models.operations.AddProviderResponse;
import dev.plexapi.sdk.models.operations.DeleteMediaProviderRequest;
import dev.plexapi.sdk.models.operations.DeleteMediaProviderRequestBuilder;
import dev.plexapi.sdk.models.operations.DeleteMediaProviderResponse;
import dev.plexapi.sdk.models.operations.ListProvidersRequestBuilder;
import dev.plexapi.sdk.models.operations.ListProvidersResponse;
import dev.plexapi.sdk.models.operations.RefreshProvidersRequestBuilder;
import dev.plexapi.sdk.models.operations.RefreshProvidersResponse;
import dev.plexapi.sdk.operations.AddProvider;
import dev.plexapi.sdk.operations.DeleteMediaProvider;
import dev.plexapi.sdk.operations.ListProviders;
import dev.plexapi.sdk.operations.RefreshProviders;
import java.lang.Exception;

/**
 * Media providers are the starting points for the entire Plex Media Server media library API.  It defines the paths for the groups of endpoints.  The `/media/providers` should be the only hard-coded path in clients when accessing the media library.  Non-media library endpoints are outside the scope of the media provider.  See the description in See [the section in API Info](#section/API-Info/Media-Providers) for more information on how to use media providers.
 */
public class Provider {
    private final SDKConfiguration sdkConfiguration;
    private final AsyncProvider asyncSDK;

    Provider(SDKConfiguration sdkConfiguration) {
        this.sdkConfiguration = sdkConfiguration;
        this.asyncSDK = new AsyncProvider(this, sdkConfiguration);
    }

    /**
     * Switches to the async SDK.
     * 
     * @return The async SDK
     */
    public AsyncProvider async() {
        return asyncSDK;
    }

    /**
     * Get the list of available media providers
     * 
     * <p>Get the list of all available media providers for this PMS.  This will generally include the library provider and possibly EPG if DVR is set up.
     * 
     * @return The call builder
     */
    public ListProvidersRequestBuilder listProviders() {
        return new ListProvidersRequestBuilder(sdkConfiguration);
    }

    /**
     * Get the list of available media providers
     * 
     * <p>Get the list of all available media providers for this PMS.  This will generally include the library provider and possibly EPG if DVR is set up.
     * 
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public ListProvidersResponse listProvidersDirect() throws Exception {
        RequestlessOperation<ListProvidersResponse> operation
            = new ListProviders.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest());
    }

    /**
     * Add a media provider
     * 
     * <p>This endpoint registers a media provider with the server. Once registered, the media server acts as a reverse proxy to the provider, allowing both local and remote providers to work.
     * 
     * @return The call builder
     */
    public AddProviderRequestBuilder addProvider() {
        return new AddProviderRequestBuilder(sdkConfiguration);
    }

    /**
     * Add a media provider
     * 
     * <p>This endpoint registers a media provider with the server. Once registered, the media server acts as a reverse proxy to the provider, allowing both local and remote providers to work.
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public AddProviderResponse addProvider(AddProviderRequest request) throws Exception {
        RequestOperation<AddProviderRequest, AddProviderResponse> operation
              = new AddProvider.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

    /**
     * Refresh media providers
     * 
     * <p>Refresh all known media providers. This is useful in case a provider has updated features.
     * 
     * @return The call builder
     */
    public RefreshProvidersRequestBuilder refreshProviders() {
        return new RefreshProvidersRequestBuilder(sdkConfiguration);
    }

    /**
     * Refresh media providers
     * 
     * <p>Refresh all known media providers. This is useful in case a provider has updated features.
     * 
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public RefreshProvidersResponse refreshProvidersDirect() throws Exception {
        RequestlessOperation<RefreshProvidersResponse> operation
            = new RefreshProviders.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest());
    }

    /**
     * Delete a media provider
     * 
     * <p>Deletes a media provider with the given id
     * 
     * @return The call builder
     */
    public DeleteMediaProviderRequestBuilder deleteMediaProvider() {
        return new DeleteMediaProviderRequestBuilder(sdkConfiguration);
    }

    /**
     * Delete a media provider
     * 
     * <p>Deletes a media provider with the given id
     * 
     * @param request The request object containing all the parameters for the API call.
     * @return The response from the API call
     * @throws Exception if the API call fails
     */
    public DeleteMediaProviderResponse deleteMediaProvider(DeleteMediaProviderRequest request) throws Exception {
        RequestOperation<DeleteMediaProviderRequest, DeleteMediaProviderResponse> operation
              = new DeleteMediaProvider.Sync(sdkConfiguration);
        return operation.handleResponse(operation.doRequest(request));
    }

}
